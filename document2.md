# 川崎総合科学高等学校プログラミング講義
## 実施日と講義資料
7月29日  
[講義資料 Googleドライブで共有](https://drive.google.com/file/d/13NcvVI1JnNOOxINp_omOwzv4NEavg5f9/view?usp=sharing)

8月28日  
このGitHubの資料を使います。  
この資料はマークダウン形式で書かれています。

## 講義の目的
この講義では、Pythonを使ったプログラミングの基礎と、Telloドローンの操作を通じて、プログラミングの実践的な応用を学びます。

## 1. PCのセットアップ確認
### WindowsにPythonをインストールする手順
1. Pythonの公式ウェブサイト（[https://www.python.org](https://www.python.org)）からインストーラーをダウンロードします。
2. ダウンロードしたインストーラーを実行し、「Add Python to PATH」にチェックを入れてからインストールを進めます。



## 2.GitHubアカウントの作成と基本的な使い方
GitHubは、ソフトウェア開発プロジェクトのためのコードホスティングプラットフォームです。  
プログラミングのプロジェクトでよく使用され、コードのバージョン管理と共有を容易にします。

### GitHubの基本

#### 何ができるのか？
- **バージョン管理**：プロジェクトの変更履歴を保存し、過去のバージョンに戻ることができます。
- **協力と共有**：他の人と一緒にプロジェクトを編集し、コードを共有することができます。
- **バグ追跡と機能リクエスト**：プロジェクトの問題を管理し、新しい機能のリクエストを追跡します。

#### なぜGitHubを使うのか？
プログラミングを学ぶ過程で、自分だけのプロジェクトを管理するだけでなく、他の開発者と共同で作業する能力も身につけることが重要です。GitHubは、そのような共同作業を支援するツールとして広く使用されています。

### 最初のステップ

#### アカウントの作成
1. [GitHubのウェブサイト](https://github.com)にアクセスします。
2. 「Sign up」をクリックして、必要な情報を入力し、アカウントを作成します。

#### リポジトリの作成
- リポジトリはプロジェクトのコンテナのようなものです。新しいプロジェクトを始めるために、GitHubで新しいリポジトリを作成します。
1. 右上のユーザーアイコンをクリックし、「Your repositories」を選択します。
2. 「New」ボタンをクリックして新しいリポジトリを作成します。
3. リポジトリに名前をつけ、必要に応じて説明を加えます。
4. 「Create repository」をクリックしてリポジトリを作成します。

#### マークダウン(Markdown)
マークダウンは、ウェブ上でテキストを書くための軽量マークアップ言語です。簡単に書けて読みやすく、構造的なドキュメントをすばやく作成することができます。

マークダウン(Markdown)
- **シンプルな構文**：基本的なテキストフォーマット用のシンプルな記号を使います。
- **移植性が高い**：テキストベースであるため、どんなデバイスやプラットフォームでも開けます。
- **ウェブフレンドリー**：HTMLに変換しやすく、ブログやウェブサイトで直接使用できます。

ワード等のソフト
- **豊富な機能**：文書作成のための多様なフォーマットやテンプレートが利用可能。
- **ユーザーインターフェイス**：視覚的な編集ツールを提供し、直感的に文書を編集できます。
- **文書の複雑さ**：複雑なレイアウトやデザインが可能で、プロフェッショナルな文書を作成できます。

マークダウンのメリット

1. **簡単に学べる**：マークダウンの構文は非常にシンプルで、初心者でもすぐに覚えられます。
2. **速い**：複雑な操作が不要なため、素早く文書を作成・編集できます。
3. **柔軟性**：テキストファイルとして保存されるため、他のフォーマットやプラットフォームへの変換が容易です。

マークダウンのデメリット

1. **機能制限**：フォントの種類やサイズ、色の調整など、視覚的なデザイン要素に関しては制限があります。
2. **互換性の問題**：すべてのテキストエディタやブログプラットフォームでマークダウンが完全にサポートされているわけではありません。
3. **複雑なレイアウトに不向き**：表やグラフィックスを含む複雑な文書のレイアウトには向いていません。

マークダウン形式のまとめ
```
マークダウンは、特に技術的な文書やブログ記事を素早く、簡単に書くために最適なツールです。
一方、ワードなどのソフトウェアは、より複雑なレイアウトやデザインが求められるプロフェッショナルな文書作成に適しています。
用途に応じて適切なツールを選ぶことが重要です。
```

### GitHubのまとめ
GitHubはプログラミングの学習に非常に有効なツールです。  
プロジェクトの管理、他の開発者との協力、そして新しい技術の学習に役立ちます。




## 3. Pythonプログラミングの基礎
Pythonの基本的な構文として、変数、データ型、条件分岐、ループについて説明します。具体的なコード例は以下のリンクから参照できます。  
本講義では、Telloを動かす基礎的なところだけを学びます。  
- [Pythonの基礎 今回はこの資料を使います](https://github.com/se-lina/for_school_2024/blob/main/python_basic.md)
- [Python Boot Camp 教科書](https://pycamp.pycon.jp/textbook/index.html)

## テキストエディタ
今回の講義ではMicrosoft VS codeを使います。

Visual Studio Code（VS Code）は、Microsoftが開発した無料のコードエディタです。  
Pythonをはじめとする多くのプログラミング言語に対応しており、拡張機能を通じて機能を追加することができます。

主な特徴
- **多言語対応**：Python, JavaScript, Java, C++, およびその他多数の言語をサポート。
- **拡張性**：マーケットプレイスから追加の機能をインストールできるため、カスタマイズが容易。
- **統合ターミナル**：コードエディタ内で直接コマンドラインインターフェースを使用できる。
- **デバッグツール**：コードのデバッグがシンプルで直感的に行える統合デバッグサポート。
- **Git統合**：GitコマンドをGUIで直接利用でき、バージョン管理が簡単。

VS Code の利用開始方法

1. [Visual Studio Codeの公式サイト](https://code.visualstudio.com/)からインストーラーをダウンロード。
2. ダウンロードしたファイルを実行してインストール。
3. 必要に応じて拡張機能をインストール。特にPython開発では、Python拡張機能が役立ちます。

```
VS Codeは、その拡張性とカスタマイズ性により、初心者からプロフェッショナルまで幅広く利用されているエディタです。
プログラミングの学習やプロジェクトの開発において、強力なサポートツールとなり得ます。
```

## 4. PCとTelloの接続方法とバックグラウンド技術
### ネットワーク設定とUDP通信
- TelloドローンとのWi-Fi接続設定方法とUDP通信の基本を解説します。

## 5. 接続方法とデモフライトの準備
### 接続方法
Pythonを実行する前に、PCとTelloをつなげます。  
つなげる方法は、まずTelloの電源をいれ機体が起動したのを確認し、  
PC側でその機体番号のWiFiを探します。  
数秒するとつながりますが、つながらない場合は一度WiFiのコネクト画面を外すといつの間にかつながります。  
TelloとPCはWiFiでつながりますが、Telloはインターネットにつながっていないため、  
「インターネット未接続」と言う表示が出ます。  

### Pythonコード
Pythonを使用してTelloドローンを操作する基本的なコマンドを実行します。以下に基本的なフライトコマンドの例を示します。

#### 基礎
```python
# Telloドローンを離陸させる
drone.takeoff()

# 前進させる
drone.move_forward(30)

# 旋回させる
drone.rotate_clockwise(90)

# 着陸させる
drone.land()
```

#### 実行プログラム例（基礎的なライブラリを使わない方法)
上記をプログラムでまとめると以下になります。
[ダウンロードはこちら](https://github.com/se-lina/for_school_2024/blob/main/basic_act.py)
https://github.com/se-lina/for_school_2024/blob/main/basic_act.py

```python
import socket
import time

#Create a UDP socket
socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
tello_address = ('192.168.10.1' , 8889)

#command-mode : 'command'
#ドローンを起動させます
socket.sendto('command'.encode('utf-8'),tello_address)
print ('start')

#離陸させます
socket.sendto('takeoff'.encode('utf-8'),tello_address)
print ('takeoff')

time.sleep(5) #5秒待ちます

#ドローンに動きを指示します
#1ｍ上昇する
socket.sendto('up 100'.encode('utf-8'),tello_address)
time.sleep(5) #5秒待ちます
#1ｍ前進する
socket.sendto('forward 100'.encode('utf-8'),tello_address)
time.sleep(5) #5秒待ちます
#1ｍ左に動く
socket.sendto('left 100'.encode('utf-8'),tello_address)
time.sleep(5) #5秒待ちます
#1ｍ後進する
socket.sendto('back 100'.encode('utf-8'),tello_address)
time.sleep(5) #5秒待ちます
#1ｍ右に動く
socket.sendto('right 100'.encode('utf-8'),tello_address)
time.sleep(5) #5秒待ちます

#着陸させます
socket.sendto('land'.encode('utf-8'),tello_address)
print ('land')
```

#### 応用編（ライブラリを使う方法)
このコードの他、djitellopyと言うライブラリを用いた飛行方法があります。
```python
from djitellopy import Tello

# Telloクラスのインスタンスを作成
tello = Tello()

# Telloドローンとの接続を確立
tello.connect()

# バッテリー残量を表示
print(tello.get_battery())

# ドローンを離陸させる
tello.takeoff()

# ドローンを左に100cm移動させる
tello.move_left(100)

# ドローンを90度時計回りに回転させる
tello.rotate_clockwise(90)

# ドローンを前に50cm移動させる
tello.move_forward(50)

# ドローンを着陸させる
tello.land()
```
各コマンドには次のような役割があります
```
connect() : ドローンとの通信を開始します。
get_battery() : ドローンの現在のバッテリー残量を取得します。
takeoff() : ドローンを離陸させます。
move_left(100) : ドローンを左に100cm移動させます。
rotate_clockwise(90) : ドローンを90度時計回りに回転させます。
move_forward(50) : ドローンを前に50cm移動させます。
land() : ドローンを安全に着陸させます。
```
